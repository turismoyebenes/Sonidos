<!doctype html>
<html lang="en">

<head>
    <title>MCNLY</title>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />

    <!-- Bootstrap CSS v5.2.1 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous" />
</head>

<body>
    <header>
        <!-- Nav tabs -->
        <nav class="navbar navbar-expand-sm navbar-light bg-light">
            <div class="container-fluid">
                <a class="" href="https://turismo.losyebenes.es/que-ver/museos/mcnly" target="_blank"><img
                        src="img/museo-ciencias-naturales-los-yebenes--portada.jpg" alt="" width="120px"></a>
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarID"
                    aria-controls="navbarID" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarID">
                    <div class="navbar-nav">
                        <a class="nav-link active ms-5 fs-4" aria-current="page" href="#">Adivina el Animal</a>

                    </div>
                </div>
            </div>
        </nav>
    </header>
    <main></main>
    <footer>
        <div class="container align-items-center">
          <h5 class=" text-center mb-3">  Haz click en los botones para escuchar a los animales</h5>
            <div class="row m-2 justify-content-between align-items-center text-center">
                
                <div class="col-4 mb-3">
                    <button type="button" class="btn  btn-danger border-2 border-black  w-50" onclick="playSound('Leon')"> León </button>
                </div>
                <div class="col-4 mb-3">
                    <button type="button" class="btn  btn-danger border-2 border-black  w-50" onclick="playSound('Nu')"> Ñu </button>
                </div>
                <div class="col-4 mb-3">
                    <button type="button" class="btn  btn-danger border-2 border-black  w-50" onclick="playSound('Jabali')"> Jabalí</button>
                </div>
                <div class="col-4 mb-3">
                    <button type="button" class="btn  btn-danger border-2 border-black  w-50" onclick="playSound('Oso')"> Oso </button>
                </div>
                <div class="col-4 mb-3">
                    <button type="button" class="btn  btn-danger border-2 border-black  w-50" onclick="playSound('Serpiente')"> Serpiente </button>
                </div>
                <div class="col-4 mb-3">
                    <button type="button" class="btn  btn-danger border-2 border-black  w-50" onclick="playSound('Ciervo')"> Ciervo </button>
                </div>
                <div class="col-4 mb-3">
                    <button type="button" class="btn  btn-danger border-2 border-black  w-50" onclick="playSound('Aguila')"> Águila </button>
                </div>
                 <div class="col-4 mb-3">
                    <button type="button" class="btn  btn-danger border-2 border-black  w-50" onclick="playSound('Carabo')"> Cárabo </button>
                </div>
                 <div class="col-4 mb-3">
                    <button type="button" class="btn  btn-danger border-2 border-black  w-50" onclick="playSound('Carpintero')">Carpintero </button>
                </div>
                <div class="col-4 mb-3">
                    <button type="button" class="btn  btn-danger border-2 border-black  w-50" onclick="playSound('Rana')">Rana </button>
                </div>
                <div class="col-4 mb-3">
                    <button type="button" class="btn  btn-danger border-2 border-black  w-50" onclick="playSound('Ballena')">Rorcual</button>
                </div>
                <div class="col-4 mb-3">
                    <button type="button" class="btn  btn-danger border-2 border-black  w-50" onclick="playSound('Pinguino')">Pingüino </button>
                </div>
                
            </div>

        </div>
    </footer>
    <!-- Bootstrap JavaScript Libraries -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
        integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
        crossorigin="anonymous"></script>

    <script>
    const audios = {
        Leon: new Audio('resource/Sonido_Leon.mp3'),
        Aguila: new Audio('resource/Sonido_Aguila.mp3'),
        Ballena: new Audio('resource/Sonido_Ballena azul.mp3'),
        Carabo: new Audio('resource/Sonido_Carabo.mp3'),
        Carpintero: new Audio('resource/Sonido_Carpintero.mp3'),
        Ciervo: new Audio('resource/Sonido_Ciervo.mp3'),
        Jabali: new Audio('resource/Sonido_Jabali.mp3'),
        Nu: new Audio('resource/Sonido_Ñu.mp3'),
        Oso: new Audio('resource/Sonido_Oso.mp3'),
        Pinguino: new Audio('resource/Sonido_Pinguino.mp3'),
        Rana: new Audio('resource/Sonido_Rana.mp3'),
        Serpiente: new Audio('resource/Sonido_Serpiente.mp3')
    };

    // Animales que deben reproducirse dos veces
    const repetirDosVeces = ['Oso', 'Aguila', 'Ballena', 'Pinguino', 'Ciervo', 'Serpiente', 'Jabali'];

    function playSound(nombre) {
        // Detiene todos los sonidos que puedan estar sonando
        for (const key in audios) {
            const audio = audios[key];
            audio.pause();
            audio.currentTime = 0;
        }

        const nuevoAudio = audios[nombre];
        if (!nuevoAudio) {
            console.error(`No existe el sonido: ${nombre}`);
            return;
        }

        let repeatCount = 1; // reproducir una vez por defecto

        if (repetirDosVeces.includes(nombre)) {
            repeatCount = 2;
        }

        let playedTimes = 0;

        const playAndHandle = () => {
            nuevoAudio.currentTime = 0;
            nuevoAudio.play();
            playedTimes++;
        };

        nuevoAudio.onended = () => {
            if (playedTimes < repeatCount) {
                playAndHandle();
            }
        };

        playAndHandle();
    }
</script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"
        integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+"
        crossorigin="anonymous"></script>
</body>

</html>